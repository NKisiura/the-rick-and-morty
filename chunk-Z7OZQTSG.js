import{b as z}from"./chunk-PYAA7663.js";import{a as ye,b as be}from"./chunk-DNTDIB4D.js";import{c as pe,d as ue,f as de,j as me,l as ce,m as xe,n as ge,o as he}from"./chunk-LETE22YY.js";import{e as ie,k as le,n as se}from"./chunk-66XNF6FV.js";import{Aa as Y,Ab as T,Ba as b,Bb as v,Cb as C,Eb as S,Fb as re,Gb as U,Ha as l,Hb as oe,Va as P,Xa as m,_a as R,ac as ae,ca as J,cb as s,db as u,eb as N,gc as fe,ia as Q,jc as ne,kb as x,la as h,lb as L,ma as y,mb as Z,nb as $,t as M,vb as ee,wb as c,yb as O,zb as te}from"./chunk-SN7ESOYK.js";import{a as E,b as X}from"./chunk-35PI25VP.js";var w=function(e){return e.ALIVE="Alive",e.DEAD="Dead",e.UNKNOWN="unknown",e}(w||{});var q=function(e){return e.FEMALE="Female",e.MALE="Male",e.GENDERLESS="Genderless",e.UNKNOWN="unknown",e}(q||{});var Ze=e=>({"!block":e}),Te=(e,t)=>[e,t],$e=(e,t,r)=>({"bg-status-alive":e,"bg-status-dead":t,"bg-status-unknown":r});function et(e,t){if(e&1&&(s(0,"div",10)(1,"div",11),c(2,"Last known location:"),u(),s(3,"a",12),c(4),u()()),e&2){let r=L(),f=L();l(3),m("routerLink",U(3,Te,f.APP_ROUTES.LOCATIONS,r.location.id))("relativeTo",null),l(),O(" ",r.location.name," ")}}function tt(e,t){if(e&1&&(s(0,"div",1),N(1,"entity-favourite-toggle",2,0)(3,"img",3),s(4,"div",4)(5,"div",5)(6,"a",6),c(7),u(),s(8,"div",7),N(9,"span",8),s(10,"span",9),c(11),u()()(),P(12,et,5,6,"div",10),u()()),e&2){let r=t,f=ee(2),o=L();l(),m("ngClass",re(11,Ze,f.isFavourite()))("entityId",r.id)("entityType",o.EntityType.CHARACTER),l(2),m("ngSrc",r.image),l(3),m("routerLink",U(13,Te,o.APP_ROUTES.CHARACTERS,r.id))("relativeTo",null),l(),O(" ",r.name," "),l(2),m("ngClass",oe(16,$e,r.status===o.characterStatus.ALIVE,r.status===o.characterStatus.DEAD,r.status===o.characterStatus.UNKNOWN)),l(2),te(" ",r.status," - ",r.species," "),l(),R(12,r.location.id?12:-1)}}var Kr=(()=>{let t=class t{constructor(){this.APP_ROUTES=se,this.EntityType=de,this.characterStatus=w,this.character=b.required()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["character-card"]],inputs:{character:[h.SignalBased,"character"]},standalone:!0,features:[S],decls:1,vars:1,consts:[["entityFavouriteToggle",""],[1,"group","relative","flex","flex-col","overflow-hidden","rounded-xl","bg-light-blue/10","sm:flex-row"],[1,"absolute","left-1","top-1","block","group-hover:block","lg:hidden",3,"ngClass","entityId","entityType"],["width","300","height","300","alt","character image",1,"max-h-[300px]","w-full","object-cover","object-center","sm:max-w-[200px]",3,"ngSrc"],[1,"flex","flex-grow","flex-col","gap-4","p-4","font-primary","text-primary"],[1,"flex","flex-col","items-start","gap-1"],[1,"text-2xl","font-bold","underline","decoration-blue","decoration-1","underline-offset-4","transition-colors","hover:text-accent",3,"routerLink","relativeTo"],[1,"flex","items-center","gap-2"],[1,"h-2.5","w-2.5","rounded-full",3,"ngClass"],[1,"capitalize"],[1,"flex","flex-col","items-start"],[1,"font-light","text-blue"],[1,"font-medium","underline","decoration-blue","decoration-1","underline-offset-4","transition-colors","hover:text-accent",3,"routerLink","relativeTo"]],template:function(o,a){if(o&1&&P(0,tt,13,20,"div",1),o&2){let p;R(0,(p=a.character())?0:-1,p)}},dependencies:[ie,fe,ae,me],changeDetection:0});let e=t;return e})();var rt=["*"],Qr=(()=>{let t=class t{constructor(){this.propertyName=b.required()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["character-property-wrapper"]],inputs:{propertyName:[h.SignalBased,"propertyName"]},standalone:!0,features:[S],ngContentSelectors:rt,decls:5,vars:1,consts:[[1,"flex","flex-col","items-start","font-primary"],[1,"rounded-md","rounded-b-none","bg-accent","px-2","text-sm","capitalize","text-dark-blue"],[1,"w-full","truncate","rounded-lg","rounded-tl-none","border","border-accent","bg-dark-blue","px-3","py-1.5","capitalize","text-primary"]],template:function(o,a){o&1&&(Z(),s(0,"div",0)(1,"div",1),c(2),u(),s(3,"div",2),$(4),u()()),o&2&&(l(2),O(" ",a.propertyName()," "))},changeDetection:0});let e=t;return e})();var ot=typeof global=="object"&&global&&global.Object===Object&&global,k=ot;var at=typeof self=="object"&&self&&self.Object===Object&&self,ft=k||at||Function("return this")(),B=ft;var nt=B.Symbol,j=nt;var ve=Object.prototype,it=ve.hasOwnProperty,lt=ve.toString,F=j?j.toStringTag:void 0;function st(e){var t=it.call(e,F),r=e[F];try{e[F]=void 0;var f=!0}catch{}var o=lt.call(e);return f&&(t?e[F]=r:delete e[F]),o}var Ce=st;var pt=Object.prototype,ut=pt.toString;function dt(e){return ut.call(e)}var Se=dt;var mt="[object Null]",ct="[object Undefined]",je=j?j.toStringTag:void 0;function xt(e){return e==null?e===void 0?ct:mt:je&&je in Object(e)?Ce(e):Se(e)}var A=xt;function gt(e){return e!=null&&typeof e=="object"}var _=gt;function ht(e,t){for(var r=-1,f=e==null?0:e.length,o=Array(f);++r<f;)o[r]=t(e[r],r,e);return o}var Ae=ht;var yt=Array.isArray,_e=yt;function bt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Oe=bt;var Tt="[object AsyncFunction]",vt="[object Function]",Ct="[object GeneratorFunction]",St="[object Proxy]";function jt(e){if(!Oe(e))return!1;var t=A(e);return t==vt||t==Ct||t==Tt||t==St}var we=jt;var At=9007199254740991,_t=/^(?:0|[1-9]\d*)$/;function Ot(e,t){var r=typeof e;return t=t??At,!!t&&(r=="number"||r!="symbol"&&_t.test(e))&&e>-1&&e%1==0&&e<t}var Fe=Ot;var wt=9007199254740991;function Ft(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wt}var W=Ft;function It(e){return e!=null&&W(e.length)&&!we(e)}var Ie=It;var Et=Object.prototype;function Mt(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Et;return e===r}var Ee=Mt;function Lt(e,t){for(var r=-1,f=Array(e);++r<e;)f[r]=t(r);return f}var Me=Lt;var kt="[object Arguments]";function Bt(e){return _(e)&&A(e)==kt}var K=Bt;var Le=Object.prototype,Wt=Le.hasOwnProperty,Dt=Le.propertyIsEnumerable,Pt=K(function(){return arguments}())?K:function(e){return _(e)&&Wt.call(e,"callee")&&!Dt.call(e,"callee")},ke=Pt;function Rt(){return!1}var Be=Rt;var Pe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,We=Pe&&typeof module=="object"&&module&&!module.nodeType&&module,Nt=We&&We.exports===Pe,De=Nt?B.Buffer:void 0,Ut=De?De.isBuffer:void 0,zt=Ut||Be,Re=zt;var qt="[object Arguments]",Gt="[object Array]",Kt="[object Boolean]",Vt="[object Date]",Ht="[object Error]",Xt="[object Function]",Jt="[object Map]",Qt="[object Number]",Yt="[object Object]",Zt="[object RegExp]",$t="[object Set]",er="[object String]",tr="[object WeakMap]",rr="[object ArrayBuffer]",or="[object DataView]",ar="[object Float32Array]",fr="[object Float64Array]",nr="[object Int8Array]",ir="[object Int16Array]",lr="[object Int32Array]",sr="[object Uint8Array]",pr="[object Uint8ClampedArray]",ur="[object Uint16Array]",dr="[object Uint32Array]",n={};n[ar]=n[fr]=n[nr]=n[ir]=n[lr]=n[sr]=n[pr]=n[ur]=n[dr]=!0;n[qt]=n[Gt]=n[rr]=n[Kt]=n[or]=n[Vt]=n[Ht]=n[Xt]=n[Jt]=n[Qt]=n[Yt]=n[Zt]=n[$t]=n[er]=n[tr]=!1;function mr(e){return _(e)&&W(e.length)&&!!n[A(e)]}var Ne=mr;function cr(e){return function(t){return e(t)}}var Ue=cr;var ze=typeof exports=="object"&&exports&&!exports.nodeType&&exports,I=ze&&typeof module=="object"&&module&&!module.nodeType&&module,xr=I&&I.exports===ze,V=xr&&k.process,gr=function(){try{var e=I&&I.require&&I.require("util").types;return e||V&&V.binding&&V.binding("util")}catch{}}(),H=gr;var qe=H&&H.isTypedArray,hr=qe?Ue(qe):Ne,Ge=hr;var yr=Object.prototype,br=yr.hasOwnProperty;function Tr(e,t){var r=_e(e),f=!r&&ke(e),o=!r&&!f&&Re(e),a=!r&&!f&&!o&&Ge(e),p=r||f||o||a,i=p?Me(e.length,String):[],Ye=i.length;for(var d in e)(t||br.call(e,d))&&!(p&&(d=="length"||o&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Fe(d,Ye)))&&i.push(d);return i}var Ke=Tr;function vr(e,t){return function(r){return e(t(r))}}var Ve=vr;var Cr=Ve(Object.keys,Object),He=Cr;var Sr=Object.prototype,jr=Sr.hasOwnProperty;function Ar(e){if(!Ee(e))return He(e);var t=[];for(var r in Object(e))jr.call(e,r)&&r!="constructor"&&t.push(r);return t}var Xe=Ar;function _r(e){return Ie(e)?Ke(e):Xe(e)}var Je=_r;function Or(e,t){return Ae(t,function(r){return e[r]})}var Qe=Or;function wr(e){return e==null?[]:Qe(e,Je(e))}var D=wr;var Aa=(()=>{let t=class t{constructor(){this.characterStatuses=D(w),this.characterGenders=D(q),this.initialFilter=b({}),this.filterChange=Y(),this.filter={}}ngOnInit(){this.filter=this.initialFilter()}handleFilterChange(){this.filterChange.emit(E({},this.filter))}clearFilter(){this.filter={},this.handleFilterChange()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["characters-filter"]],inputs:{initialFilter:[h.SignalBased,"initialFilter"]},outputs:{filterChange:"filterChange"},standalone:!0,features:[S],decls:8,vars:9,consts:[[1,"grid","grid-cols-2","gap-4","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-11","lg:*:col-span-2"],["type","text","placeholder","Name",1,"rounded-lg","border","border-blue","bg-dark-blue","px-4","py-1.5","font-primary","text-accent","outline-0","transition-colors","placeholder:font-light","placeholder:text-blue","focus:border-accent",3,"ngModelChange","input","ngModel"],["type","text","placeholder","Type",1,"rounded-lg","border","border-blue","bg-dark-blue","px-4","py-1.5","font-primary","text-accent","outline-0","transition-colors","placeholder:font-light","placeholder:text-blue","focus:border-accent",3,"ngModelChange","input","ngModel"],["type","text","placeholder","Species",1,"rounded-lg","border","border-blue","bg-dark-blue","px-4","py-1.5","font-primary","text-accent","outline-0","transition-colors","placeholder:font-light","placeholder:text-blue","focus:border-accent",3,"ngModelChange","input","ngModel"],["placeholder","Status",1,"custom-select",3,"ngModelChange","change","searchable","items","ngModel"],["placeholder","Gender",1,"custom-select",3,"ngModelChange","change","searchable","items","ngModel"],["type","button",1,"rounded-lg","border","border-accent","bg-dark-blue","font-primary","font-medium","text-accent","transition-colors","hover:bg-accent","hover:text-dark-blue","lg:!col-span-1",3,"click"]],template:function(o,a){o&1&&(s(0,"div",0)(1,"input",1),C("ngModelChange",function(i){return v(a.filter.name,i)||(a.filter.name=i),i}),x("input",function(){return a.handleFilterChange()}),u(),s(2,"input",2),C("ngModelChange",function(i){return v(a.filter.type,i)||(a.filter.type=i),i}),x("input",function(){return a.handleFilterChange()}),u(),s(3,"input",3),C("ngModelChange",function(i){return v(a.filter.species,i)||(a.filter.species=i),i}),x("input",function(){return a.handleFilterChange()}),u(),s(4,"ng-select",4),C("ngModelChange",function(i){return v(a.filter.status,i)||(a.filter.status=i),i}),x("change",function(){return a.handleFilterChange()}),u(),s(5,"ng-select",5),C("ngModelChange",function(i){return v(a.filter.gender,i)||(a.filter.gender=i),i}),x("change",function(){return a.handleFilterChange()}),u(),s(6,"button",6),x("click",function(){return a.clearFilter()}),c(7," Clear "),u()()),o&2&&(l(),T("ngModel",a.filter.name),l(),T("ngModel",a.filter.type),l(),T("ngModel",a.filter.species),l(),m("searchable",!1)("items",a.characterStatuses),T("ngModel",a.filter.status),l(),m("searchable",!1)("items",a.characterGenders),T("ngModel",a.filter.gender))},dependencies:[he,ce,xe,ge,be,ye],changeDetection:0});let e=t;return e})();var g=class e{static fromDTO(t){return{id:t.id,name:t.name,status:t.status,species:t.species,type:t.type,gender:t.gender,origin:z.fromDTO(t.origin),location:z.fromDTO(t.location),image:t.image,episodeIds:t.episode.map(ue),url:t.url,created:new Date(t.created)}}static fromDTOList(t){return t.map(e.fromDTO)}};var Ga=(()=>{let t=class t{constructor(){this.httpClient=Q(ne),this.URL=le}getCharacterById(f){return this.httpClient.get(`${this.URL}/${f}`).pipe(M(g.fromDTO))}getCharactersByIdList(f){return this.httpClient.get(`${this.URL}/${f.join(",")}`).pipe(M(o=>Array.isArray(o)?g.fromDTOList(o):[g.fromDTO(o)]))}getCharactersByFilter(f){return this.httpClient.get(this.URL,{params:pe(f)}).pipe(M(o=>X(E({},o),{results:g.fromDTOList(o.results)})))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();export{Ga as a,Kr as b,Qr as c,Aa as d};
