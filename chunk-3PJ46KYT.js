import{a as J}from"./chunk-J36AHQY5.js";import{a as W,c as $}from"./chunk-OD42XJDA.js";import"./chunk-XDWRJOZU.js";import{a as H}from"./chunk-TMROHDPB.js";import"./chunk-COXDFDNR.js";import{a as U,b as L,l as z,m as G}from"./chunk-XOLOHFGZ.js";import"./chunk-6RRLMYQ5.js";import"./chunk-BUYXJ4OI.js";import{e as j,n as q}from"./chunk-NEX2WLXG.js";import{k}from"./chunk-NIWLSCTU.js";import{$b as g,Bb as B,Cb as N,Db as c,Eb as l,Fb as _,Ia as F,Ob as m,Zb as d,_ as E,_b as O,aa as S,ac as R,eb as a,ec as b,fa as T,fc as M,hc as I,la as y,pa as P,qa as A,ub as v,wb as p,zb as s}from"./chunk-4ZLDDYG2.js";import{a as x,b as C}from"./chunk-55KE2TB7.js";var V={characterLoading:!1,character:null,characterError:null,episodesLoading:!1,episodes:null,episodesError:null},D=(()=>{let t=class t extends U{constructor(){super(V),this.charactersApiService=y(W),this.episodesApiService=y(H),this.character=this.selectSignal(({character:r})=>r),this.characterLoading=this.selectSignal(({characterLoading:r})=>r),this.characterError=this.selectSignal(({characterError:r})=>r),this.episodes=this.selectSignal(({episodes:r})=>r),this.episodesLoading=this.selectSignal(({episodesLoading:r})=>r),this.episodesError=this.selectSignal(({episodesError:r})=>r),this.characterWithEpisodesByIdRequested=this.effect(r=>r.pipe(S(()=>this.patchState({characterLoading:!0})),E(i=>this.charactersApiService.getCharacterById(i).pipe(L(o=>{this.characterByIdSucceeded(o),this.characterEpisodesByIdListRequested(o.episodeIds)},({error:o})=>{this.characterByIdFailed(o)}))))),this.characterEpisodesByIdListRequested=this.effect(r=>r.pipe(S(()=>this.patchState({episodesLoading:!0})),E(i=>this.episodesApiService.getEpisodesByIdList(i).pipe(L(o=>{this.characterEpisodesSucceeded(o)},({error:o})=>{this.characterEpisodesFailed(o)}))))),this.characterByIdSucceeded=this.updater((r,i)=>C(x({},r),{characterLoading:!1,character:i,characterError:null})),this.characterByIdFailed=this.updater((r,i)=>C(x({},r),{characterLoading:!1,character:null,characterError:i})),this.characterEpisodesSucceeded=this.updater((r,i)=>C(x({},r),{episodesLoading:!1,episodes:i,episodesError:null})),this.characterEpisodesFailed=this.updater((r,i)=>C(x({},r),{episodesLoading:!1,episodes:null,episodesError:i}))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac});let e=t;return e})();var X=(e,t)=>t.id,K=(e,t)=>[e,t];function Y(e,t){e&1&&_(0,"loader")}function Z(e,t){e&1&&(c(0,"character-property-wrapper",10),d(1),l()),e&2&&(p("propertyName","status"),a(),g(" ",t," "))}function ee(e,t){e&1&&(c(0,"character-property-wrapper",10),d(1),l()),e&2&&(p("propertyName","species"),a(),g(" ",t," "))}function te(e,t){e&1&&(c(0,"character-property-wrapper",10),d(1),l()),e&2&&(p("propertyName","gender"),a(),g(" ",t," "))}function re(e,t){e&1&&(c(0,"character-property-wrapper",10),d(1),l()),e&2&&(p("propertyName","type"),a(),g(" ",t," "))}function ae(e,t){if(e&1&&(c(0,"character-property-wrapper",10),d(1),l()),e&2){let n=t;p("propertyName","episodes amount"),a(),R(" ",n," ",n>1?"Episodes":"Episode"," ")}}function ie(e,t){if(e&1&&(c(0,"character-property-wrapper",10)(1,"a",11),d(2),l()()),e&2){let n=m(),r=m();p("propertyName","origin location"),a(),p("routerLink",I(4,K,r.APP_ROUTES.LOCATIONS,t))("relativeTo",null),a(),g(" ",n.origin.name," ")}}function oe(e,t){if(e&1&&(c(0,"character-property-wrapper",10)(1,"a",11),d(2),l()()),e&2){let n=m(),r=m();p("propertyName","last location"),a(),p("routerLink",I(4,K,r.APP_ROUTES.LOCATIONS,t))("relativeTo",null),a(),g(" ",n.location.name," ")}}function ne(e,t){if(e&1&&(c(0,"div",4),_(1,"img",6),c(2,"div",7)(3,"h1",8),d(4),l(),c(5,"div",9),v(6,Z,2,2,"character-property-wrapper",10)(7,ee,2,2,"character-property-wrapper",10)(8,te,2,2,"character-property-wrapper",10)(9,re,2,2,"character-property-wrapper",10)(10,ae,2,3,"character-property-wrapper",10)(11,ie,3,7,"character-property-wrapper",10)(12,oe,3,7,"character-property-wrapper",10),l()()()),e&2){let n,r,i,o,f,u,w,h=t;a(),p("ngSrc",h.image),a(3),g(" ",h.name," "),a(2),s(6,(n=h.status)?6:-1,n),a(),s(7,(r=h.species)?7:-1,r),a(),s(8,(i=h.gender)?8:-1,i),a(),s(9,(o=h.type)?9:-1,o),a(),s(10,(f=h.episodeIds.length)?10:-1,f),a(),s(11,(u=h.origin.id)?11:-1,u),a(),s(12,(w=h.location.id)?12:-1,w)}}function ce(e,t){if(e&1&&_(0,"error-message",5),e&2){let n=m();p("errorMessage",n.characterError().error)}}function pe(e,t){e&1&&_(0,"loader")}function se(e,t){if(e&1&&_(0,"episode-card",15),e&2){let n=t.$implicit;p("episode",n)}}function le(e,t){if(e&1&&(c(0,"div",3)(1,"h2",12),d(2," Episodes with "),c(3,"span",13),d(4),l()(),c(5,"div",14),B(6,se,1,1,"episode-card",15,X),l()()),e&2){let n,r=m();a(4),O((n=r.character())==null?null:n.name),a(2),N(t)}}function de(e,t){if(e&1&&_(0,"error-message",5),e&2){let n=m();p("errorMessage",n.characterEpisodesError().error)}}var Fe=(()=>{let t=class t{constructor(){this.characterDetailsStore=y(D),this.APP_ROUTES=q,this.characterId=F.required({transform:r=>+r}),this.character=this.characterDetailsStore.character,this.characterLoading=this.characterDetailsStore.characterLoading,this.characterError=this.characterDetailsStore.characterError,this.characterEpisodes=this.characterDetailsStore.episodes,this.characterEpisodesLoading=this.characterDetailsStore.episodesLoading,this.characterEpisodesError=this.characterDetailsStore.episodesError}ngOnInit(){this.characterDetailsStore.characterWithEpisodesByIdRequested(this.characterId())}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=A({type:t,selectors:[["app-character-details"]],inputs:{characterId:[P.SignalBased,"characterId"]},standalone:!0,features:[b([D]),M],decls:11,vars:6,consts:[[1,"py-4","lg:py-6"],[1,"container"],[1,"flex","flex-col","gap-8","lg:gap-16"],[1,"flex","flex-col","gap-4","lg:gap-6"],[1,"flex","flex-col","gap-4","rounded-xl","bg-light-blue/10","p-4","md:flex-row","lg:gap-6","lg:p-6"],[3,"errorMessage"],["width","400","height","400","alt","character image",1,"max-h-[400px]","w-full","rounded-lg","object-cover","md:max-w-[300px]","lg:max-w-[350px]","xl:max-w-[400px]",3,"ngSrc"],[1,"flex","flex-col","gap-4","md:flex-grow","lg:gap-6"],[1,"font-primary","text-3xl","font-bold","text-primary","sm:text-4xl","lg:text-5xl","xl:text-6xl"],[1,"grid","grid-cols-1","gap-4","sm:grid-cols-2","lg:gap-6"],[3,"propertyName"],[1,"underline","decoration-blue","underline-offset-2","transition-colors","hover:text-blue",3,"routerLink","relativeTo"],[1,"text-center","font-decorative","text-3xl","text-primary","sm:text-4xl","lg:text-5xl"],[1,"text-accent"],[1,"grid","grid-cols-1","gap-4","sm:grid-cols-2","lg:grid-cols-3","lg:gap-6","2xl:grid-cols-4"],[3,"episode"]],template:function(i,o){if(i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v(4,Y,1,0,"loader")(5,ne,13,9,"div",4)(6,ce,1,1,"error-message",5),l(),c(7,"div",3),v(8,pe,1,0,"loader")(9,le,8,1,"div",3)(10,de,1,1,"error-message",5),l()()()()),i&2){let f,u;a(4),s(4,o.characterLoading()?4:-1),a(),s(5,(f=o.character())?5:-1,f),a(),s(6,o.characterError()&&!o.characterLoading()?6:-1),a(2),s(8,o.characterEpisodesLoading()?8:-1),a(),s(9,(u=o.characterEpisodes())?9:-1,u),a(),s(10,o.characterEpisodesError()&&!o.characterEpisodesLoading()?10:-1)}},dependencies:[k,j,z,G,$,J],changeDetection:0});let e=t;return e})();export{Fe as CharacterDetailsPageComponent};
